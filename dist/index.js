!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).jsTools={})}(this,(function(e){"use strict";function t(e,t){return e.classList.contains(t)}function n(e){return Object.prototype.toString.call(e).match(/\[object (.*?)\]/)[1].toLowerCase()}e.ObjToUrlParam=function(e){var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t=t.substr(0,t.length-1)},e.addClass=function(e,n){Array.isArray(n)?n.forEach((function(n){t(e,n)||e.classList.add(n)})):t(e,n)||e.classList.add(n)},e.base64Decode=function(e){return window.atob(decodeURIComponent(e))},e.base64Encode=function(e){return window.btoa(e)},e.calcStrLength=function(e,t){return"string"!=typeof e?0:t?Array.from(e).reduce((function(e,t){return e+(t.charCodeAt(0)>255?2:1)}),0):e.length},e.checkType=n,e.computedStyle=function(e,t){if(e&&t)return document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,"")[t]:e.currentStyle[t]},e.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))},e.curryFn=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this,o=Array.from(arguments).slice(1),a=e.length;return function(){var t=Array.from(arguments);return o.push.apply(o,t),o.length<a?curry.call.apply(curry,[r,e].concat(o)):e.apply(r,o)}},e.debounceFn=function(e,t,n){if(void 0===n&&(n=!0),"function"!=typeof e)throw new Error("第一个参数必须是方法");var r;return n?function(){clearTimeout(r),r||e.apply(this,arguments),r=setTimeout((function(){setTimeout(r),r=null}),t)}:function(){clearTimeout(r),r=setTimeout((function(){setTimeout(r),e.apply(this,arguments),r=null}),t)}},e.deepClone=function e(t){var r={},o=Object.keys(t);for(var a in o){switch(n(t[a])){case"object":r[a]=e(t[a]);break;case"array":r[a]=[].concat(t[a]);break;default:r[a]=t[a]}}return r},e.deleteUrlParam=function(e,t){void 0===t&&(t=location.href);var n=t.split("?")[1];if(!n)return t;var r=t.split("?")[0],o=new URLSearchParams(n);return e.forEach((function(e){o.delete(e)})),o.toString()?r+"?"+o.toString():r},e.diffArr=function(e,t){var n=new Set(t);return e.filter((function(e){return!n.has(e)}))},e.extendObj=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return deepClone(Object.assign.apply(Object,[{}].concat(e)))},e.fileToBolb=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new Blob([a],{type:n})},e.getCookie=function(e){if(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n&&n[2]?n[2]:null}var r=[];if(document.cookie.length){var o=document.cookie.split("; ");for(var a in o)r.push({name:""+unescape(o[a].split("=")[0]),value:""+unescape(o[a].split("=")[1])});return r}return null},e.getIEVersion=function(){if(window.ActiveXObject){var e=window.navigator.userAgent.match(/MSIE ([^;]+)/)[1];return parseFloat(e.substring(0,e.indexOf(".")))}return!1},e.getLocal=function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){t=t}return t&&t.startTime?(new Date).getTime()-t.startTime>t.expires?(localStorage.removeItem(e),!1):t.value:t},e.getScrollPosition=function(e){return void 0===e&&(e=window),{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},e.getUrlParam=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},e.hasClass=t,e.htmlDecode=function(e,t){if(0==e.length)return"";var n="";if(t){var r=document.createElement("div");r.innerHTML=e,n=r.innerText||r.textContent,r=null}else n=(n=(n=(n=(n=(n=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&nbsp;/g," ")).replace(/&#39;/g,"'")).replace(/&quot;/g,'"');return n},e.htmlEncode=function(e,t){if(0==e.length)return"";var n="";if(t){var r=document.createElement("div");null!=r.textContent?r.textContent=e:r.innerText=e,n=r.innerHTML,r=null}else n=(n=(n=(n=(n=(n=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\s/g,"&nbsp;")).replace(/\'/g,"&#39;")).replace(/\"/g,"&quot;");return n},e.intersectArr=function(e,t){var n=new Set(t);return e.filter((function(e){return n.has(e)}))},e.isDigit=function(e){return!(null==/^[0-9]*$/.exec(e)||""==e)},e.isEmpty=function(e){var t=n(e);return"null"===t||"undefined"===t||(["array","string"].includes(t)?!e.length:"object"===t&&0===Object.keys(e).length)},e.isMobile=function(){var e=window.navigator.userAgent;return/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(e)},e.isPrimes=function(e){if("number"!=typeof e)throw Error("isPrimes first argument is not a number");if(1==e)return!1;for(var t=2;t<=Math.sqrt(e);t++)if(e%t==0)return!1;return!0},e.isUrl=function(e){return/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i.test(e)},e.isWx=function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"===String(e.match(/MicroMessenger/i))},e.loadCss=function(e,t){return new Promise((function(n,r){try{var o=document.createElement("link");for(var a in o.href=e,t)o[a]=t[a];document.getElementsByTagName("head")[0].appendChild(o),n()}catch(e){r(e)}}))},e.loadScript=function(e,t){return new Promise((function(n,r){try{var o=document.body||document.getElementsByTagName("body")[0],a=document.createElement("script");for(var i in a.src=e,a.onload=n,a.onerror=r,t)a[i]=t[i];o.appendChild(a)}catch(e){r(e)}}))},e.memoFn=function(e){var t={};return function(n){var r=n.toString();return t[r]||(t[r]=e(n))}},e.omitStr=function(e,t,n,r){void 0===r&&(r="*");var o=t||0,a=n||0,i=e.length-o-a;return e.substr(0,o)+r.repeat(i)+e.substr(i+o,n)},e.onceFn=function(e){var t=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!t)return t=!0,e.call(this,n)}},e.randomBetween=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=100),"number"!=typeof e||"number"!=typeof t)throw Error("randomBetween arguments is not a number");if(e>t)throw Error("randomBetween first argument must less than second param");return Math.floor(Math.random()*(t-e+1))+e},e.randomColor=function(e){return void 0===e&&(e=1),"rgba("+~~(256*Math.random())+","+~~(256*Math.random())+","+~~(256*Math.random())+","+e+")"},e.removeClass=function(e,n){Array.isArray(n)?n.forEach((function(n){t(e,n)&&e.classList.remove(n)})):t(e,n)&&e.classList.remove(n)},e.removeCookie=function(e){var t=new Date;if(t.setTime(t.getTime()-1),e){var n=getCookie(e);null!==n&&(document.cookie=e+"="+n+";expires="+t.toUTCString())}else{var r=getCookie();for(var o in r)document.cookie=r[o].name+"="+r[o].value+";expires="+t.toUTCString()}},e.removeLocal=function(e){e?localStorage.removeItem(e):localStorage.clear()},e.setCookie=function(e,t,n){void 0===n&&(n=72e5);var r=new Date;r.setTime(r.getTime()+n),document.cookie=e+"="+escape(t)+";expires="+r.toUTCString()},e.setLocal=function(e,t,n){var r={key:e,value:t,expires:n};if(n){var o=Object.assign(r,{startTime:(new Date).getTime()});localStorage.setItem(e,JSON.stringify(o))}else"[object Object]"===Object.prototype.toString.call(t)&&(t=JSON.stringify(t)),"[object Array]"===Object.prototype.toString.call(t)&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},e.sleepFn=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},e.throttleFn=function(e,t){if(void 0===t&&(t=1e3),"function"!=typeof e)throw new Error("第一个参数必须是方法");var n=e,r=null,o=!0;return function(){var e=arguments,a=this;if(o)return n.apply(a,e),void(o=!1);r||(r=setTimeout((function(){setTimeout(r),r=null,n.apply(a,e)}),t))}},e.unionArr=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return Array.from(new Set((e=[]).concat.apply(e,t)))},e.uniqueArr=function(e){return[].concat(new Set(e))},e.urlParamToObj=function(e){void 0===e&&(e=window.location.search);var t=e.slice(e.indexOf("?")),n=new URLSearchParams(t),r={};for(var o in n.entries()){var a=o[0],i=o[1];r[a]=i}return r},e.verifyInputLegal=function(e,t){var n="";switch(e){default:break;case"username":n=/^[a-zA-Z0-9_-]{6,18}$/;break;case"password":n=/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/;break;case"phone":n=/^1[34578]\d{9}$/;break;case"email":n=/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/;break;case"idcard":n=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;break;case"ipv4":n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;break;case"orgcode":n=/^[0-9A-Z]{18}$/;break;case"chinese":n=/^[\u3220-\uFA29]+$/}return n.test(t)},Object.defineProperty(e,"__esModule",{value:!0})}));
